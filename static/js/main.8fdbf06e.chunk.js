(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){e.exports=n(43)},41:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),c=n(12),a=n.n(c),l=n(5),u=n(6),o=n(11),s=n(7),d=n(10),f=n(9),m=n(26),y=function(e){return{type:"REMOVE_CITY",id:e}},h=function(e,t,n){return{type:"EDIT_CITY",id:e,title:t,desc:n}},b=n(8),v=n(4),p=n(3),E=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).call(this))).state={editing:!1},e.titleRef=r.a.createRef(),e.descRef=r.a.createRef(),e.submit=e.submit.bind(Object(v.a)(Object(v.a)(e))),e.onEditClick=e.onEditClick.bind(Object(v.a)(Object(v.a)(e))),e.onCancelClick=e.onCancelClick.bind(Object(v.a)(Object(v.a)(e))),e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"submit",value:function(e){e.preventDefault(),this.titleRef.current.value&&(this.props.editCity(this.titleRef.current.value,this.descRef.current.value),this.setState({editing:!1}))}},{key:"onEditClick",value:function(){this.setState({editing:!0})}},{key:"onCancelClick",value:function(){this.setState({editing:!1})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.desc,i=e.removeCity;return this.state.editing?r.a.createElement(p.i,null,r.a.createElement("h5",null,"Edit City \u2014 ",t),r.a.createElement(p.e,{onSubmit:this.submit},r.a.createElement(p.f,null,r.a.createElement(p.g,{innerRef:this.titleRef,type:"text",defaultValue:t})),r.a.createElement(p.f,null,r.a.createElement(p.g,{innerRef:this.descRef,type:"textarea",defaultValue:n})),r.a.createElement(p.a,{color:"primary"},"Save")," ",r.a.createElement(p.a,{color:"link",onClick:this.onCancelClick},"Cancel"))):r.a.createElement(p.i,null,r.a.createElement("div",{className:"float-right"},r.a.createElement(p.a,{color:"primary",onClick:this.onEditClick},"Edit")," ",r.a.createElement(p.a,{color:"link",onClick:i},"Remove")),r.a.createElement(p.j,null,t),r.a.createElement(p.k,null,n))}}]),t}(i.Component),C=function(e){var t=e.cities,n=void 0===t?[]:t,i=e.removeCity,c=void 0===i?function(e){return e}:i,a=e.editCity,l=void 0===a?function(e){return e}:a;return r.a.createElement(p.h,null,n.map(function(e){return r.a.createElement(E,Object.assign({key:"city-".concat(e.id)},e,{removeCity:function(){return c(e.id)},editCity:function(t,n){return l(e.id,t,n)}}))}))},O=Object(f.b)(function(e){return{cities:e.cities.filter(function(t){return t.country_id===e.countryActive}),countryActive:e.countryActive}},function(e){return Object(b.a)({removeCity:y,editCity:h},e)})(C),j=n(14),g=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.title,i=e.text,c=e.onSelectCountry,a=e.countryActive;return r.a.createElement(p.i,{style:{cursor:"pointer"},className:t===a?"active":"",onClick:c},r.a.createElement(p.j,null,n),r.a.createElement(p.k,null,i))}}]),t}(i.Component),R=function(e){var t=e.countries,n=void 0===t?[]:t,i=e.onSelectCountry,c=void 0===i?function(e){return e}:i,a=e.countryActive,l=void 0===a?1:a;return r.a.createElement(p.h,null,n.map(function(e){return r.a.createElement(g,Object.assign({key:"country-".concat(e.id)},e,{onSelectCountry:function(){return c(e.id)},countryActive:l}))}))},k=Object(f.b)(function(e){return{countries:Object(j.a)(e.countries),countryActive:e.countryActive}},function(e){return{onSelectCountry:function(t){return e(function(e){return{type:"SET_COUNTRY",country_id:e}}(t))}}})(R),_=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).call(this))).state={collapse:!1},e.titleRef=r.a.createRef(),e.descRef=r.a.createRef(),e.toggle=e.toggle.bind(Object(v.a)(Object(v.a)(e))),e.submit=e.submit.bind(Object(v.a)(Object(v.a)(e))),e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"submit",value:function(e){e.preventDefault(),this.titleRef.current.value&&(this.props.addNewCity(this.props.countryActive,this.titleRef.current.value,this.descRef.current.value),this.titleRef.current.value="",this.descRef.current.value="",this.titleRef.current.focus())}},{key:"toggle",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"render",value:function(){return r.a.createElement(p.h,null,r.a.createElement(p.i,null,r.a.createElement(p.a,{color:"primary",size:"lg",block:!0,onClick:this.toggle},"Add City"),r.a.createElement(p.c,{isOpen:this.state.collapse},r.a.createElement(p.e,{onSubmit:this.submit},r.a.createElement("h5",{className:"mt"},"Add City"),r.a.createElement(p.f,null,r.a.createElement(p.g,{innerRef:this.titleRef,type:"text",placeholder:"City name"})),r.a.createElement(p.f,null,r.a.createElement(p.g,{type:"textarea",innerRef:this.descRef,placeholder:"City description"})),r.a.createElement(p.a,{color:"primary"},"Submit")))))}}]),t}(i.Component),S=Object(f.b)(function(e){return{countryActive:e.countryActive}},function(e){return{addNewCity:function(t,n,i){return e(function(e,t,n){return{type:"ADD_CITY",id:Object(m.v4)(),country_id:e,title:t,desc:n}}(t,n,i))}}})(_),A=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(p.d,null,r.a.createElement("br",null),r.a.createElement(p.l,null,r.a.createElement(p.b,{xs:"4"},r.a.createElement("h5",null,"Countries"),r.a.createElement(k,null)),r.a.createElement(p.b,{xs:"8"},r.a.createElement("h5",null,"Cities"),r.a.createElement(S,null),r.a.createElement(O,null))))}}]),t}(i.Component),T={countries:[{id:1,title:"United Kingdom",text:"The United Kingdom of Great Britain and Northern Ireland, commonly known as the United Kingdom (UK) or Britain, is a sovereign state in Europe."},{id:2,title:"France",text:"France, officially the French Republic (French: R\xe9publique fran\xe7aise), is a unitary sovereign state comprising territory in western Europe and several overseas regions and territories."},{id:3,title:"Spain",text:"Spain (Spanish: Espa\xf1a), officially the Kingdom of Spain (Spanish: Reino de Espa\xf1a), is a sovereign state located on the Iberian Peninsula in southwestern Europe."},{id:4,title:"Germany",text:"Germany, officially the Federal Republic of Germany (German: Bundesrepublik Deutschland), is a federal parliamentary republic in western-central Europe."}],cities:[{id:1,country_id:1,title:"London",desc:""},{id:2,country_id:1,title:"Liverpool",desc:""},{id:3,country_id:2,title:"Paris",desc:""},{id:4,country_id:3,title:"Madrid",desc:""},{id:5,country_id:4,title:"Berlin",desc:""},{id:6,country_id:4,title:"Munich",desc:""},{id:7,country_id:4,title:"Hamburg",desc:""}],countryActive:1},w=n(28),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CITY":return{id:t.id,country_id:t.country_id,title:t.title,desc:t.desc};case"EDIT_CITY":return e.id!==t.id?e:Object(w.a)({},e,{title:t.title,desc:t.desc});default:return e}},x=Object(b.b)({countries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.countries;return(arguments.length>1?arguments[1]:void 0).type,e},cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.cities,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CITY":return Object(j.a)(e).concat([I({},t)]);case"REMOVE_CITY":return e.filter(function(e){return e.id!==t.id});case"EDIT_CITY":return e.map(function(e){return I(e,t)});default:return e}},countryActive:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.countryActive,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COUNTRY":return t.country_id;default:return e}}});n(39),n(41);var D=Object(b.c)(x);D.subscribe(function(){return console.log(D.getState())}),a.a.render(r.a.createElement(f.a,{store:D},r.a.createElement(A,null)),document.getElementById("root"))}},[[29,2,1]]]);
//# sourceMappingURL=main.8fdbf06e.chunk.js.map